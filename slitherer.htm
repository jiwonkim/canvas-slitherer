<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
<script type="text/javascript" src="tools/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="slitherer.js"></script>
</head>
<body>
<script type="text/javascript">
$(function() {
    document.onselectstart = function () { return false; }
    var field = slitherer()
        .init(
            document.getElementById('board-layer'),
            document.getElementById('snakes-layer'),
            document.getElementById('ladders-layer'),
            document.getElementById('cursor-layer')
        );

    var mousedown = false;
    $('canvas').mousedown(function(evt) {
        mousedown = true;
    }).mouseup(function(evt) {
        mousedown = false;
    }).mouseout(function(evt) {
        // remove mouse cursor image
        field.clearLayer('cursor')
    }).mousemove(function(evt) {
        // display mode as mouse cursor
        field.displayCursor(evt.offsetX, evt.offsetY);
        
        if(!mousedown) return;
        try {
            field.addRoadAt(evt.offsetX, evt.offsetY);
        } catch (err) {
            mousedown=false;
            $('#errors p').html(err);
        }
    });

    $('#mode-selector button').click(function() {
        $('#mode-selector .selected').removeClass('selected');
        $(this).addClass('selected');
        field.mode($(this).attr('id'));
    }); 
});
</script>
<div id="top">
<img src="images/title.jpg" />
<hr />
</div>
<div id="left">
    <div id="mode-selector">
        <button class="selected" id="roads"></button>
        <button id="snakes"></button>
        <button id="ladders"></button>
    </div>

    <hr />
    
    <div id="tools">
        <button id="add"></button>
        <button id="delete"></button>
        <button id="start-over"></button>
    </div>

</div>
<div id="right">
    <div id="status">
    <img src="images/erroricon.png" />
    <p>Errors here</p>
    </div>
    <div id="viewport">
        <canvas id="board-layer" width="900" height="540"></canvas>
        <canvas id="snakes-layer" width="900" height="540"></canvas>
        <canvas id="ladders-layer" width="900" height="540"></canvas>
        <canvas id="cursor-layer" width="900" height="540"></canvas>
    </div>
</div>
</body>
</html>
